★【CloudWatch Logs】概要/ロググループ、ストリーム、イベント/フィルタリング/Insights/CloudWatch 統合エージェント
▼CloudWatch Logs
	ログを収集、保管、監視、また他のAWSサービスと連携するサービス
	![[Pasted image 20250703013721.png]]
	▼ログ収集
		![[Pasted image 20250703014114.png]]
		CloudWatch統合エージェントをインストールすることにより収集可能
		収集可能なログ
			・EC2インスタンスのログ
			・アプリケーションログ
			・サーバーのシステムログ
			・Lambdaの関数実行ログ
			・VPC Flow logsのネットワークログなど
	▼ログ保管
		![[Pasted image 20250703014940.png]]
		ログはフォルダのような階層に分かれて保管されている
		ログの保管期間
			・デフォルトは無期限
			・１日〜10年間の保持期間を選択可能
		保管時も転送時も暗号化されている
	▼ログ監視
		![[Pasted image 20250703015145.png]]
		フィルタリング
			・ログに出力された、特定の文字列を検出する機能
			・メトリクス日フィルタを使い、特定の文字列の検出回数や頻度に応じたアクションの実行
	▼CloudWatch Logs Insights
		![[Pasted image 20250703015545.png]]
		ログの視覚化の機能
		ログ分析を効率的に効果的に実践できるようになった
	▼ログ連携
		![[Pasted image 20250703015805.png]]
		・S3へエクスポートし、コストを抑える（S3の標準ストレージの方が安価）
		・他のサービスもより効率的に使用できる
	▼統合エージェント
		![[Pasted image 20250703020155.png]]
		・デフォルトの標準メトリクスでは収集できないメモリ使用率、ディスク使用率といったシステムレベルのメトリクスを収集できる
		加えて以下のログも
			・アプリケーションログ
			・システムログ
		ただし、適切なIAMの権限を付与しなければならない


★【ECS】概要/ECR/コンテナとは？/ECSの構成要素（クラスター、サービス、タスク、タスク定義）
▼コンテナ
	![[Pasted image 20250703124942.png]]
	アプリケーションとその実行環境（ランタイム、依存ライブラリ、アプリケーションコード
	）を１つにまとめた仮想化技術
	メリット
		OSを含んでいないため、起動時間や処理を高速にでき、なおかつ軽量
▼コンテナ管理
	![[Pasted image 20250703125506.png]]
	▼複数コンテナ
		![[Pasted image 20250703125649.png]]
	▼複数コンテナ（ECS利用）
		![[Pasted image 20250703125818.png]]
▼Amazon ECS（Amazon Elastic Container Service）
	![[Pasted image 20250703130249.png]]
	コンテナ化されたアプリケーションのデプロイ、管理、スケーリングをしてくれるフルマネージドなコンテナオーケストレーションサービス
	オーケストレーション：システムやソフトウェア、サービスなどの構築、運用管理を自動化する
	▼役割
		![[Pasted image 20250703130539.png]]
		・スケジューリング：利用可能なリソースを考慮し、コンテナを自動で適切なサーバーに配置
			アプリケーションが最適なパフォーマンスと効率で実行される
		・オートスケーリング：設定されたメトリクスに基づいて、コンテナインスタンスの数を自動で調整
			需要の増減に応じてリソースを効率的にスケールイン/アウトできる
		・死活監視：コンテナの状態を監視し、問題が発生した場合には自動的にコンテナを再起動または置き換え
			アプリケーションの可用性と信頼性を向上
		・負荷分散：ELBと統合でき、複数のコンテナインスタンス間で負荷を均等に分けることが可能
			アプリケーションが安定して高速に応答可能
	▼構成要素
		![[Pasted image 20250703131709.png]]
		・クラスター：ECSでコンテナを動かすための実行環境
			システムの大まかな区分分け
			IAM権限の境界設定
		・タスク定義：コンテナを作成する定義、テンプレートとなるテキスト情報
			起動タイプ
			タスクに割り当てるIAMロール
			コンテナ定義
		・サービス：実行中のコンテナ全体を管理する機能
			実行コンテナ数の定義
			ロードバランサーとの連携
			ネットワ構成の指定などの管理
		・タスク：タスク定義に基づき起動されるコンテナ群
			Apacheのタスク
			nginxのタスク
			MySQLのタスクなど
	▼Amazon ECR（Amazon Elastic Container Registry）
		![[Pasted image 20250703132710.png]]
		コンテナイメージを格納するフルマネージド型のレジストリサービス
		レジストリ：イメージを保管する場所


★【ECS】Fargate概要/サーバーレスとは？/コントロール・データプレーンとは/Fargateのメリット/リクエスト分散/Fargateのデメリット
▼AWS Fargate
	AWS上でコンテナをサーバーレスで実行することができる機能
	![[Pasted image 20250703134636.png]]
	▼メリット
		![[Pasted image 20250703135645.png]]
	▼デメリット
		![[Pasted image 20250703140202.png]]
	▼ECSとFargateを使用したリクエスト分散
		![[Pasted image 20250703135854.png]]
▼コントロールプレーンとデータプレーン
	![[Pasted image 20250703134906.png]]
	プレーン：階層
	おすすめの組み合わせ：Amazon ECS x AWS Fargate
	▼データプレーンの違い（EC2・Fargate）
		![[Pasted image 20250703135343.png]]


★【ハンズオン】Fargateハンズオン/シンプルなコンテナアプリをデプロイする/クラスターやタスク定義を作成/awsvpcとは/Docker設定コマンド補足/タスク定義更新/サービス更新
▼awsvpc
	![[Pasted image 20250703150846.png]]
▼Docker設定のコマンド
	![[Pasted image 20250703151042.png]]
①VPCおよび関連リソースの作成
	![[Pasted image 20250703142923.png]]
	![[Pasted image 20250703142935.png]]
	![[Pasted image 20250703143124.png]]
②ECSクラスターの作成
	![[Pasted image 20250703143246.png]]
	![[Pasted image 20250703143428.png]]
	作成
③タスク定義の作成
	以下にアクセス
	URL：https://gallery.ecr.aws/
	![[Pasted image 20250703144553.png]]
	![[Pasted image 20250703144648.png]]
	Image URl：public.ecr.aws/docker/library/httpd:latestをコピー
	![[Pasted image 20250703144806.png]]
	![[Pasted image 20250703145239.png]]
	![[Pasted image 20250703145426.png]]
	作成
④ECSサービスの作成
	![[Pasted image 20250703145624.png]]
	![[Pasted image 20250703145935.png]]
	![[Pasted image 20250703150010.png]]
	作成
⑤タスクへの疎通テスト
	以下にアクセス
	URL：http://13.230.161.206/
	![[Pasted image 20250703151611.png]]
⑥タスク定義の更新
	![[Pasted image 20250703151810.png]]
	変更箇所
	![[Pasted image 20250703151956.png]]
	![[Pasted image 20250703152027.png]]
	作成
⑦ECSサービスの更新
	![[Pasted image 20250703152421.png]]
	![[Pasted image 20250703152509.png]]
	更新
⑧疎通確認
	![[Pasted image 20250703152813.png]]
⑨環境削除
	クラスター
	タスク定義
	VPC